<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Observer Influence in Quantum Gravity</title>
    <style>
        body {
            font-family: 'Times New Roman', serif;
            background-color: #fdf6e3;
            color: #333;
            padding: 40px;
            line-height: 1.8;
        }
        h1, h2 {
            color: #4a4a4a;
        }
        .content-section {
            margin-bottom: 40px;
        }
        #dieGrid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
            margin-top: 20px;
        }
        .dieResult {
            text-align: center;
            padding: 10px;
            border: 1px solid #e0e0e0;
        }
        #tensorOutput {
            margin-top: 20px;
            font-family: 'Courier New', monospace;
        }
        .collapsible-img {
            cursor: pointer;
            padding: 10px;
            border: 1px solid #e0e0e0;
            text-align: center;
            outline: none;
            font-size: 18px;
            transition: 0.4s;
            background-color: #f7f7f7;
        }
        .collapsible-img:hover {
            background-color: #eee;
        }
        .collapsible-content {
            display: none;
            padding: 20px;
            overflow: hidden;
            background-color: #fafafa;
        }
        .responsive-img {
            width: 100%;
            height: auto;
        }
        .caption {
            text-align: center;
            font-style: italic;
            color: #666;
        }
        @media screen and (max-width: 600px) {
            .dropdown-content, .collapsible-content {
                border-left: none;
            }
        }
    </style>
</head>
<body>
    <h1>Revolutionizing Quantum Gravity</h1>

    <section class="content-section" id="introduction">
        <h2>Introduction</h2>
        <p>
            At the cutting edge of theoretical physics, we introduce a revolutionary concept: the dynamic role of the observer in shaping quantum gravity. This interactive platform not only visualizes but also quantifies how your interaction alters the quantum realm.
        </p>
    </section>

    <!-- Berghain Door Policy Simulation -->
    <section class="content-section" id="berghainPolicySimulation">
        <h2>Berghain Door Policy Simulation</h2>
        <p>
            Explore how different factors might influence your 'quantum state' at the Berghain door. Each visitor is represented as a qutrit with three potential states.
        </p>
        <div>
            <label for="appearance">Appearance:</label>
            <select id="appearance">
                <option value="0">Low Compatibility</option>
                <option value="1">Medium Compatibility</option>
                <option value="2" selected>High Compatibility</option>
            </select>
        </div>
        <div>
            <label for="knowledge">Club Culture Knowledge:</label>
            <select id="knowledge">
                <option value="0">Low</option>
                <option value="1">Medium</option>
                <option value="2" selected>High</option>
            </select>
        </div>
        <div>
            <label for="age">Age Group:</label>
            <select id="age">
                <option value="0">Under 25</option>
                <option value="1">25-35</option>
                <option value="2">Over 35</option>
            </select>
        </div>
        <button onclick="simulateEntryDecision()">Simulate Entry Decision</button>
        <div id="simulationResult"></div>
    </section>

    <!-- Quantum Die Roll Section -->
    <section class="content-section" id="quantumDieRoll">
        <h2>Quantum Die Roll</h2>
        <button onclick="rollQuantumDie()">Roll Quantum Die</button>
        <div id="dieGrid"></div>
        <div id="tensorOutput"></div>
    </section>

    <script>
    const quantum = {
        getRandom: function(min, mid, max) {
            if (typeof min !== "number" || typeof mid !== "number" || typeof max !== "number") {
                throw new Error("min, mid, and max must be numbers");
            }
            if (min >= mid || mid >= max) {
                throw new Error("Values must be in order: min < mid < max");
            }

            const buffer = new Uint32Array(1);
            window.crypto.getRandomValues(buffer);
            const rand = buffer[0] / (0xFFFFFFFF + 1); // Normalized random number between 0 and 1

            if (rand < 0.33) {
                // Lower third: generate near min
                return min + Math.random() * (mid - min);
            } else if (rand < 0.67) {
                // Middle third: generate near mid
                return mid + Math.random() * (max - mid) - (max - mid) / 2;
            } else {
                // Upper third: generate near max
                return mid + Math.random() * (max - mid);
            }
        }
    };

    function simulateEntryDecision() {
        let results = { "Entry Denied": 0, "Maybe": 0, "Entry Granted": 0 };

        for (let i = 0; i < 4000; i++) {
            // Using the quantum.getRandom function to simulate decision
            let decisionValue = quantum.getRandom(0, 1, 2); // Generating a value near 0, 1, or 2
            let decisionIndex = Math.round(decisionValue) % 3; // Normalizing to 0, 1, or 2

            let decision = ["Entry Denied", "Maybe", "Entry Granted"][decisionIndex];
            results[decision]++;
        }

        let currentTime = new Date();
        document.getElementById('simulationResult').textContent = `Simulation Results (Current Time: ${currentTime.toLocaleTimeString()}): 
            Entry Granted: ${results["Entry Granted"]}, 
            Maybe: ${results["Maybe"]}, 
            Entry Denied: ${results["Entry Denied"]}`;
    }
</script>
</body>
</html>
