<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Quantum Die</title>
    <style>
        body {
            font-family: 'Times New Roman', serif;
            background-color: #ffffff;
            color: #000000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            padding: 10px;
        }
        #die-output, #waveform-container {
            margin-top: 20px;
            border: 1px solid #000000;
            max-width: 90%;
            overflow-x: auto;
        }
        #die-output {
            display: grid;
            grid-template-columns: repeat(4000, 20px);
            gap: 2px;
            font-family: monospace;
            font-size: 14px;
            max-height: 80vh;
            overflow: auto;
        }
        .state-H { color: blue; }
        .state-ùïè { color: green; }
        .state-plus { color: red; }
        #controls input[type="range"] {
            width: 50%;
        }
        #waveform {
            width: 8000px; /* Enough to display 4000 rolls */
            height: 200px;
        }
    </style>
</head>
<body>
    <div id="controls">
        <button onclick="startQuantumDie()">Roll Quantum Die</button>
        <input type="range" min="0.5" max="1.5" step="0.01" value="1" oninput="updateModulation(this.value)" role="slider" aria-label="Modulation Factor" />
    </div>
    <div id="die-output"></div>
    <div id="waveform-container">
        <canvas id="waveform"></canvas>
    </div>
    <script>
        if (!window.AudioContext && !window.webkitAudioContext) {
            alert('Your browser does not support the Web Audio API');
            return;
        }

        const audioContext = new (window.AudioContext || window.webkitAudioContext)();
        const gainNode = audioContext.createGain();
        const canvas = document.getElementById('waveform');
        const ctx = canvas.getContext('2d');
        let quantumLoop;
        let modulationFactor = 1;
        let quantumStates = [];

        window.startQuantumDie = function() {
            gainNode.connect(audioContext.destination);
            clearInterval(quantumLoop);
            quantumLoop = setInterval(runQuantumDie, 200);
            ctx.clearRect(0, 0, canvas.width, canvas.height);
        }

        function runQuantumDie() {
            if (quantumStates.length >= 4000) {
                quantumStates.shift();
            }
            const outcome = Math.floor(Math.random() * 3);
            quantumStates.push(outcome);
            displayQuantumOutput();
            playQuantumSound(outcome);
            drawWaveform(outcome);
        }

        function displayQuantumOutput() {
            const outputElement = document.getElementById('die-output');
            outputElement.innerHTML = quantumStates.map(state => {
                const className = state === 0 ? 'state-H' : state === 1 ? 'state-ùïè' : 'state-plus';
                const displayChar = state === 0 ? 'H' : state === 1 ? 'ùïè' : '+';
                return `<span class="${className}">${displayChar}</span>`;
            }).join('');
        }

        function playQuantumSound(state) {
            const oscillator = audioContext.createOscillator();
            oscillator.type = state === 0 ? 'sine' : state === 1 ? 'triangle' : 'square';
            oscillator.frequency.setValueAtTime((440 + state * 110) * modulationFactor, audioContext.currentTime);
            oscillator.connect(gainNode);
            oscillator.start(audioContext.currentTime);
            oscillator.stop(audioContext.currentTime + 0.4);
        }

        function drawWaveform(state) {
            const x = quantumStates.length - 1;
            const y = state === 0 ? 50 : state === 1 ? 100 : 150;
            ctx.fillStyle = state === 0 ? 'blue' : state === 1 ? 'green' : 'red';
            ctx.fillRect(x * 2, canvas.height - y, 2, y);
        }

        window.updateModulation = function(value) {
            modulationFactor = value;
            gainNode.gain.value = Math.exp(value - 1);
        }
    </script>
</body>
</html>
Hamzat Incorporated ùïè ChatGPT4 + Q-Star
