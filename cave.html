<!DOCTYPE html>
<html>
<head>
  <title>Plato's Quantum Cave</title>
  <script>
    let canvas = document.createElement('canvas');
    document.body.appendChild(canvas);
    let ctx = canvas.getContext('2d');
    let audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    let oscillator;
    let particleCount = 0;

    function drawParticle(x, y, color, radius) {
      ctx.beginPath();
      ctx.arc(x, y, radius, 0, Math.PI * 2);
      ctx.fillStyle = color;
      ctx.fill();
      ctx.font = "12px Arial";
      ctx.fillText(radius > 7 ? "Spin: up" : "Spin: down", x + 10, y + 3);
    }

    function playSound(frequency, type) {
      oscillator = audioCtx.createOscillator();
      oscillator.type = type;
      oscillator.frequency.setValueAtTime(frequency, audioCtx.currentTime);
      oscillator.connect(audioCtx.destination);
      oscillator.start();
      oscillator.stop(audioCtx.currentTime + 1);
    }

    function generateField() {
      let x = Math.random() * canvas.width;
      let y = Math.random() * canvas.height;
      let color = Math.random() > 0.5 ? 'blue' : 'red';
      let radius = Math.random() * 5 + 5;
      drawParticle(x, y, color, radius);

      let frequency = 200 + Math.random() * 300;
      let type = color === 'blue' ? 'sine' : 'square';
      playSound(frequency, type);

      particleCount++;
      document.getElementById('count').innerHTML = `Particles Generated: ${particleCount}`;
    }
  </script>
</head>
<body onload="canvas.width=window.innerWidth;canvas.height=window.innerHeight;">

  <header>
    <h1>Plato's Quantum Cave</h1>
  </header>

  <button onclick="generateField()">Generate Virtual Quantum Field</button>
  <div id="count">Particles Generated: 0</div>

</body>
</html>
