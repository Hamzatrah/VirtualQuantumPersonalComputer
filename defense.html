<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Defense of Team Ball Lightning</title>
    <style>
        body {
            font-family: 'Times', sans-serif;
            background-color: #f0f0f0;
            color: #333;
            padding: 20px;
        }
        .game-container {
            background-color: #fff;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        .game-header {
            text-align: center;
        }
        .game-story {
            margin-top: 20px;
            white-space: pre-wrap;
        }
        #rollDie {
            display: block;
            margin: 20px auto;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1 class="game-header">Defense of Team Ball Lightning</h1>
        <img src="https://raw.githubusercontent.com/Hamzatrah/VirtualQuantumPersonalComputer/8c48901fa1f8aa904b04618a9b7f530aaa5abbe7/IMG_6893.png" alt="Team Ball Lightning" style="max-width: 100%; height: auto; display: block; margin: 0 auto;">
        <button id="rollDie">Roll Qutrit Die</button>
        <p id="dieResult">Result: </p>
        <div class="game-story"></div>
    </div>

    <script>
        let timeoutId;
        const longPressDuration = 1000;
        document.getElementById('rollDie').addEventListener('mousedown', initiateLongPress);
        document.getElementById('rollDie').addEventListener('touchstart', initiateLongPress);
        document.addEventListener('mouseup', clearLongPress);
        document.addEventListener('mouseleave', clearLongPress);
        document.addEventListener('touchend', clearLongPress);

        function initiateLongPress() {
            timeoutId = setTimeout(showSpecialEnding, longPressDuration);
        }

        function clearLongPress() {
            clearTimeout(timeoutId);
        }

        const storyLines = [
            "<strong>Chapter 1: The Dismissal</strong><br>Moments before the final presentation, Hamzat is unexpectedly confronted by Scott Greenwald...",
            "<strong>Chapter 2: The Search for Truth</strong><br>Refusing to accept defeat, Hamzat starts a guerrilla internet activism campaign...",
            "<strong>Chapter 3: The Quantum Dice Rolls</strong><br>Now, Hamzat must navigate through a series of challenges...",
            "<strong>Chapter 4: The Revelation</strong><br>Depending on your decisions, the story unfolds towards one of several endings..."
        ];

        const endings = {
            "H": "<strong>Ending A (Confrontation):</strong><br>Confronting Scott, Hamzat exposes the truth...",
            "ùïè": "<strong>Ending B (Community Support):</strong><br>The community rallies behind Team Ball Lightning...",
            "+": "<strong>Ending C (Guerrilla Presentation):</strong><br>An unauthorized demonstration garners widespread attention..."
        };

        let currentLine = 0;

        document.getElementById('rollDie').addEventListener('click', rollQuantumDie);

        function rollQuantumDie() {
            if (currentLine < storyLines.length) {
                typeStory(storyLines[currentLine], document.querySelector('.game-story'), 0);
                currentLine++;
            } else {
                const outcome = quantumDieOutcome();
                document.getElementById('dieResult').innerHTML = `Result: ${outcome}`;
                typeStory(endings[outcome], document.querySelector('.game-story'), 0);
            }
        }

        function showSpecialEnding() {
            const specialEnding = "<strong>Special Ending:</strong><br>Hamzat, moved by his mother's counsel, chose a path of compassion and mercy towards Scott Greenwald...";
            document.querySelector('.game-story').innerHTML = '';
            typeStory(specialEnding, document.querySelector('.game-story'), 0);
        }

        function typeStory(text, target, index) {
            if (index < text.length) {
                target.innerHTML += text.charAt(index);
                setTimeout(function() {
                    typeStory(text, target, index + 1);
                }, index % 2 == 0 ? 120 : 60); // Vary speed for a more natural feel
            }
        }

        function quantumDieOutcome() {
            const outcomes = ["H", "ùïè", "+"];
            return outcomes[Math.floor(Math.random() * outcomes.length)];
        }
    </script>
</body>
</html>
